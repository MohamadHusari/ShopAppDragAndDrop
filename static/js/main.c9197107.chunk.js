(window.webpackJsonpshopcart=window.webpackJsonpshopcart||[]).push([[0],{113:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},126:function(e,t,a){e.exports=a(318)},131:function(e,t,a){},222:function(e,t,a){},318:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(38),c=a.n(o),l=(a(131),a(123)),s=a(57),i=a.n(s),d=a(111),m=a(112),u=a(6),p=a(7),h=a(9),b=a(8),f=a(3),g=a(10),v=a(113),E=a.n(v),C=a(11),O=a(18),y=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.cartSize;return n.a.createElement("nav",{className:"navbar navbar-light bg-light"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"navbar-brand"},n.a.createElement("img",{src:E.a,width:"30",height:"30",className:"d-inline-block align-top mr-2",alt:""}),n.a.createElement("span",{className:"font-weight-bold"},"Buy Courses")),n.a.createElement("div",{className:"ml-auto"},n.a.createElement("button",{className:"btn position-relative"},n.a.createElement(C.a,{icon:O.d,size:"lg"}),e>0&&n.a.createElement("span",{className:"badge badge-pill badge-info align-top position-absolute"},e)))))}}]),t}(r.Component),N=a(19),j=a.n(N),w=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(b.a)(t).call(this))).handleOrder=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DOWN";t.preventDefault(),e.setState({selectvalue:t.target.value?t.target.value:e.state.selectvalue,arrow:a},(function(){return e.props.handleChangeStateWithObject({sortby:e.state.selectvalue+a,currentPage:1})}))},e.handlerCurrency=function(t){t.preventDefault(),e.setState({currencyselect:t.target.value},(function(){return e.props.handleChangeStateWithObject({exchangeto:e.state.currencyselect})}))},e.state={arrow:"DOWN",selectvalue:"Date",currencyselect:"Choose..."},e.handleOrder=e.handleOrder.bind(Object(f.a)(e)),e.handlerCurrency=e.handlerCurrency.bind(Object(f.a)(e)),e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("form",{className:"m-3"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-lg-5 my-1 m-lg-0"},n.a.createElement("input",{type:"text",className:"form-control form-control-sm",placeholder:"Search Courses...",onChange:this.props.searchCourses})),n.a.createElement("div",{className:"col-12 col-lg-4 my-1 m-lg-0"},n.a.createElement("label",{htmlFor:"sort-by",className:"col-form-label-sm mx-2 mb-0 pl-2 pl-lg-0"},"Sort By :"),n.a.createElement("select",{className:"d-inline w-50 form-control form-control-sm",onChange:this.handleOrder,value:this.state.selectvalue},n.a.createElement("option",{value:"Date"},"Date"),n.a.createElement("option",{value:"Price"},"Price"),n.a.createElement("option",{value:"Level"},"Level")),"UP"===this.state.arrow?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{"data-tip":"ascending","data-for":"arrowup",className:"mx-2"},n.a.createElement("button",{className:"btn btn-outline-dark btn-sm border-0",onClick:function(t){e.handleOrder(t)}},n.a.createElement(C.a,{icon:O.b}))),n.a.createElement(j.a,{id:"arrowup",place:"right",type:"dark",effect:"solid"})):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{"data-tip":"descending","data-for":"arrowdown",className:"mx-2"},n.a.createElement("button",{className:"btn btn-outline-dark btn-sm border-0",onClick:function(t){e.handleOrder(t,"UP")}},n.a.createElement(C.a,{icon:O.a})),n.a.createElement(j.a,{id:"arrowdown",place:"right",type:"dark",effect:"solid"})))),n.a.createElement("div",{className:"col-12 col-lg-3 d-flex justify-content-start justify-content-lg-center"},n.a.createElement("label",{htmlFor:"sort-by",className:"col-form-label-sm mx-2 mb-0 pl-2 pl-lg-0"},"Currency:"),n.a.createElement("select",{className:"d-inline w-50 form-control form-control-sm mt-1 m-lg-0",value:this.state.currencyselect,onChange:this.handlerCurrency},n.a.createElement("option",{value:"Choose..."},"Choose..."),n.a.createElement("option",{value:"EUR"},"EUR"),n.a.createElement("option",{value:"ILS"},"ILS"),n.a.createElement("option",{value:"GBP"},"GBP")))))}}]),t}(r.Component),x=a(20),P=a.n(x),D=a(59),S=a(114),k=a.n(S),F=(a(151),a(21)),I=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(b.a)(t).call(this))).handleEditModeChange=function(){e.setState({editmode:!e.state.editmode})},e.handleSmallRemoveButton=function(t){e.props.removeFromCart(t.target.closest("li").value)},e.state={editmode:!1},e.handleEditModeChange=e.handleEditModeChange.bind(Object(f.a)(e)),e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.cartList,r=t.exChangeValues,o=t.exChangeTo,c=0;return n.a.createElement("aside",{id:"cart",className:"sticky-top"},n.a.createElement("div",{className:"clearfix"},n.a.createElement("h3",{className:"d-inline font-weight-light h5"},"Cart"),!P()(a)&&n.a.createElement("div",{className:"float-right"},n.a.createElement("span",{"data-tip":"Edit mode","data-for":"editmode"},n.a.createElement(k.a,{className:"bg-light",defaultChecked:this.state.editmode,onChange:this.handleEditModeChange})),n.a.createElement(j.a,{id:"editmode",type:"dark",effect:"solid"})),!P()(a)&&this.state.editmode&&n.a.createElement("div",{className:"float-right"},n.a.createElement("span",{"data-tip":"Clear all","data-for":"clearall"},n.a.createElement("button",{type:"button",className:"btn btn-sm text-uppercase",onClick:function(){return e.props.clearCartPopup("Are you sure?","You won't be able to revert this!","warning")}},n.a.createElement(C.a,{icon:D.a,size:"lg"}))),n.a.createElement(j.a,{id:"clearall",type:"dark",effect:"solid"}))),n.a.createElement(F.c,{droppableId:"droppable2"},(function(t){return n.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef,className:"card bg-light border-0 p-2 shadow-sm"}),n.a.createElement("ul",{className:"list-unstyled"},e.props.loading?n.a.createElement("div",{className:"text-center"},n.a.createElement("div",{className:"spinner-border",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))):P()(a)?n.a.createElement("span",{className:"d-block text-center text-muted text-uppercase"},"Cart is Empty"):a.map((function(t,a){return c+=parseFloat(t.price),n.a.createElement(F.b,{key:t.id,draggableId:t.id,index:a},(function(r){var o=(c=0,r.dragHandleProps?function(e){r.dragHandleProps.onDragStart(e)}:o);return n.a.createElement("li",Object.assign({ref:r.innerRef},r.draggableProps,r.dragHandleProps,{onDragStart:o,value:a,className:"d-flex justify-content-between align-items-center py-2"}),n.a.createElement("span",{className:"course-title pl-1"},t.name),n.a.createElement("span",{className:"course-price"},t.price,"$"),e.state.editmode&&n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{"data-tip":"Remove","data-for":"removeone"},n.a.createElement("button",{type:"button",className:"btn btn-sm text-danger",onClick:e.handleSmallRemoveButton},n.a.createElement(C.a,{icon:D.a,size:"sm"}))),n.a.createElement(j.a,{id:"removeone",place:"right",type:"dark",effect:"solid"})))}))}))),n.a.createElement("p",{className:"d-flex justify-content-between align-items-center mb-0 py-2"},n.a.createElement("span",{className:"course-title"},"Total"),n.a.createElement("span",{className:"cart-total-price"},c.toFixed(2),"$",0!==c&&null!==r&&"Choose..."!==o&&r[o]&&n.a.createElement("small",{className:"pl-1"},"(",(c*r[o]).toFixed(2)," ",o,")"))),t.placeholder)})))}}]),t}(r.Component),R=a(63),A=a.n(R),L=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).handleReadMoreAndLess=function(){a.props.closeOpenDescription(a.buttonref),a.setState({read:!a.state.read})},a.print=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35,r=e.length>t?" "===e[t-1]?e.substr(0,t-1)+" ...":e.substr(0,t)+"...":e;return n.a.createElement(n.a.Fragment,null,a.state.read?r:e,35!==t&&n.a.createElement("button",{ref:a.buttonref,className:"btn btn-sm btn-link",onClick:a.handleReadMoreAndLess},a.state.read?"Read more":"Read less"))},a.handleAddToCart=function(e){a.setState({show:!0}),a.props.addToCart(e)},a.handleRemoveFromCart=function(e){a.setState({show:!1}),a.props.removeFromCart(e)},a.setRef=function(e){a.ref=e,a.props.innerRef(e)},a.state={show:!1,read:!0},a.buttonref=n.a.createRef(),a.print=a.print.bind(Object(f.a)(a)),a.handleAddToCart=a.handleAddToCart.bind(Object(f.a)(a)),a.handleRemoveFromCart=a.handleRemoveFromCart.bind(Object(f.a)(a)),a.handleReadMoreAndLess=a.handleReadMoreAndLess.bind(Object(f.a)(a)),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({show:this.props.isInCard})}},{key:"componentDidUpdate",value:function(e){this.props.isInCard!==e.isInCard&&this.setState({show:this.props.isInCard})}},{key:"render",value:function(){var e=this,t=this.props.provided,a=this.props.children,r=this.props,o=r.exChangeValues,c=r.exChangeTo,l=r.index;return n.a.createElement("div",Object.assign({},t.draggableProps,t.dragHandleProps,{ref:this.setRef,className:"course-card col-12 col-md-6 my-2"}),n.a.createElement("div",{className:"card border-0 shadow-sm bg-light"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},this.print(a.name)),n.a.createElement("p",{className:"card-text"},this.print(a.description,110)),n.a.createElement("p",{className:"card-text card-price m-0"},a.price,"$",null!==o&&"Choose..."!==c&&o[c]&&n.a.createElement("small",{className:"pl-1"},"(",(a.price*o[c]).toFixed(2)," ",c,")"))),n.a.createElement("div",{className:"card-footer bg-transparent border-0 clearfix"},n.a.createElement("small",{className:"text-muted"},"Level: ",a.level," - ",a.added_date),n.a.createElement("div",{className:"float-right"},!this.state.show&&n.a.createElement("button",{className:"btn btn-outline-primary btn-sm ".concat(this.state.show?"":"show"),onClick:function(){return e.handleAddToCart(l)}},n.a.createElement(C.a,{icon:O.c}))))))}}]),t}(r.Component),T=a(119),B=a.n(T),W=a(39),M=a(122),U=a(65),_=a.n(U),z=function(e,t,a){return _.a.fire({title:e,text:t,type:a,showCancelButton:!0,cancelButtonText:"No",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, reset it!"})},H=function(){return _.a.fire("Deleted!","You cart is empty now.","success")},V=(a(222),a(223),a(42)),Y=a.n(V);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var G=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(b.a)(t).call(this))).handleChangeStateWithObject=function(t){e.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t))},e.closeOpenDescription=function(t){if(null===e.readmoreisopened)e.readmoreisopened=t;else if(e.readmoreisopened===t)e.readmoreisopened=null;else try{e.readmoreisopened.current.click()}catch(a){e.readmoreisopened=null}finally{e.readmoreisopened=t}},e.sorted=function(){var t=e.state,a=t.filtered,r=t.sortby,n={Beginners:0,"Lower Intermediate":1,"Upper Intermediate":2,"Lower Advanced":3,Advanced:4,"Upper Advanced":5};switch(r){case"DateUP":return a.sort((function(e,t){return new Date(e.added_date)-new Date(t.added_date)}));case"DateDOWN":return a.sort((function(e,t){return new Date(t.added_date)-new Date(e.added_date)}));case"PriceUP":return a.sort((function(e,t){return parseFloat(e.price)-parseFloat(t.price)}));case"PriceDOWN":return a.sort((function(e,t){return parseFloat(t.price)-parseFloat(e.price)}));case"LevelUP":return a.sort((function(e,t){return n[t.level]<n[e.level]?-1:n[t.level]>n[e.level]?1:e.id<t.id?-1:e.id>t.id&&1}));case"LevelDOWN":return a.sort((function(e,t){return n[e.level]<n[t.level]?-1:n[e.level]>n[t.level]?1:e.id<t.id?-1:e.id>t.id&&1}));default:return a.sort((function(e,t){return new Date(t.added_date)-new Date(e.added_date)}))}},e.clearCartPopup=function(t,a,r){P()(e.state.cart)||z(t,a,r).then((function(t){t.value&&H().then((function(){var t=Array.from(e.state.filtered),a=Array.from(e.state.cart),r=t.concat(a);e.setState({cart:[],filtered:r},(function(){return localStorage.clear()}))}))}))},e.addToCart=function(t){var a=e.move(e.state.filtered,e.state.cart,{index:t,droppableId:"droppable1"},{droppableId:"droppable2",index:e.state.cart.length+1});e.setState({filtered:a.droppable1?a.droppable1:[],cart:a.droppable2?a.droppable2:[]},(function(){return e.securels.set("cart",e.state.cart)}))},e.removeFromCart=function(t){var a=e.move(e.state.cart,e.state.filtered,{index:t,droppableId:"droppable2"},{index:e.state.filtered.length-1,droppableId:"droppable1"});e.setState({filtered:a.droppable1?a.droppable1:[],cart:a.droppable2?a.droppable2:[]})},e.searchCourses=function(){var t=Object(d.a)(i.a.mark((function t(a){var r,n,o,c,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.target.value,n=[],o=[],""!==r?(c=Array.from(e.state.cart),n=e.state.courses,l=n.filter((function(e){var t=e.name.toLowerCase(),a=r.toLowerCase();return t.includes(a)})),o=Y()(l,c,"id")):o=Y()(e.state.courses,e.state.cart,"id"),t.next=6,e.setState({filtered:o});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.eachCourse=function(t,a){return n.a.createElement(F.b,{key:t.id,draggableId:t.id,index:10*e.state.currentPage-10+parseInt(a)},(function(r){return n.a.createElement(L,{index:10*e.state.currentPage-10+parseInt(a),innerRef:r.innerRef,provided:r,closeOpenDescription:e.closeOpenDescription,addToCart:e.addToCart,removeFromCart:e.removeFromCart,isInCard:!1,exChangeValues:e.exchangevalues,exChangeTo:e.state.exchangeto},t)}))},e.move=function(e,t,a,r){var n=Array.from(e),o=Array.from(t),c=n.splice(a.index,1),s=Object(l.a)(c,1)[0];o.splice(r.index,0,s);var i={};return i[a.droppableId]=n,i[r.droppableId]=o,i},e.onDragEnd=function(t){var a=t.source,r=t.destination;r&&a.droppableId!==r.droppableId&&("droppable1"===a.droppableId?e.addToCart(a.index):e.removeFromCart(r.index))},e.securels=new B.a,e.state={loading:!0,courses:[],filtered:[],cart:[],sortby:"",currentPage:1,exchangeto:"Choose...",errormsg:"No results"},e.readmoreisopened=null,e.exchangevalues=null,e.eachCourse=e.eachCourse.bind(Object(f.a)(e)),e.addToCart=e.addToCart.bind(Object(f.a)(e)),e.removeFromCart=e.removeFromCart.bind(Object(f.a)(e)),e.searchCourses=e.searchCourses.bind(Object(f.a)(e)),e.handleChangeStateWithObject=e.handleChangeStateWithObject.bind(Object(f.a)(e)),e.sorted=e.sorted.bind(Object(f.a)(e)),e.clearCartPopup=e.clearCartPopup.bind(Object(f.a)(e)),e.closeOpenDescription=e.closeOpenDescription.bind(Object(f.a)(e)),e.onDragEnd=e.onDragEnd.bind(Object(f.a)(e)),e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=A.a.get("https://testapi.io/api/MohamadHusari/courses").then((function(t){e.setState({courses:t.data.courses,loading:!1,filtered:t.data.courses})})).catch((function(t){e.setState({loading:!1,errormsg:"Can't load items data, please try again later"})})),a=A.a.get("https://api.exchangeratesapi.io/latest?base=USD").then((function(t){e.exchangevalues=t.data.rates})).catch((function(t){e.exchangevalues=null}));Promise.all([t,a]).then((function(){if("No results"===e.state.errormsg&&localStorage.cart){var t=Array.from(e.state.filtered),a=Array.from(e.securels.get("cart")),r=Y()(t,a,"id");e.setState({filtered:r,cart:e.securels.get("cart")},(function(){return e.clearCartPopup("Your cart isn't empty!!","Do you want to reset it?","warning")}))}}))}},{key:"render",value:function(){var e=this,t=this.state.currentPage,a=this.state.filtered.length;return n.a.createElement(n.a.Fragment,null,n.a.createElement(y,{cartSize:this.state.cart.length}),n.a.createElement("div",{className:"container"},n.a.createElement(w,{searchCourses:this.searchCourses,handleChangeStateWithObject:this.handleChangeStateWithObject}),n.a.createElement(F.a,{onDragEnd:this.onDragEnd},n.a.createElement("div",{className:"row"},n.a.createElement("div",{id:"main",className:"col-12 col-lg-9 order-1 order-lg-0"},this.state.loading?n.a.createElement("div",{className:"d-flex justify-content-center align-items-center h-100"},n.a.createElement("div",{className:"spinner-border",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))):P()(this.state.filtered)?n.a.createElement("p",{className:"d-flex h-100 justify-content-center align-items-center text-uppercase"},this.state.errormsg):n.a.createElement("div",{className:"col-12"},n.a.createElement(F.c,{droppableId:"droppable1"},(function(r){return n.a.createElement("div",Object.assign({},r.droppableProps,{ref:r.innerRef,className:"row"}),e.sorted().slice(10*t-10,10*t>a?a:10*t).map(e.eachCourse),r.placeholder)})),n.a.createElement("div",{className:"my-2"},n.a.createElement(W.ThemeProvider,null,n.a.createElement(M.Pagination,{totalPages:Math.ceil(a/10),currentPage:t,onChange:function(t){e.setState({currentPage:t},(function(){return e.forceUpdate()}))}}))))),n.a.createElement("div",{className:"col-lg-3 order-0 order-lg-1 my-2 my-lg-0 mx-3 mx-lg-0"},n.a.createElement(I,{cartList:this.state.cart,loading:this.state.loading,clearCartPopup:this.clearCartPopup,removeFromCart:this.removeFromCart,exChangeValues:this.exchangevalues,exChangeTo:this.state.exchangeto}))))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(317);c.a.render(n.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[126,1,2]]]);
//# sourceMappingURL=main.c9197107.chunk.js.map